<!doctype html>

<html lang="en-us">

<head>
  <title>Superjomn&#39;s Blog</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="The HTML5 Herald" />
  <meta name="author" content="Superjomn" /><meta name="generator" content="Hugo 0.62.0" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css" />
  <script src="https://kit.fontawesome.com/b76b73e8e8.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda" />
  <link rel="stylesheet" type="text/css" href="/css/styles.css" /></head>

<body>
  <div id="container">
    <header>
      <h1>
                <a href="/">Superjomn's Blog</a>
            </h1>

      <ul id="social-media">
        
        
          
        <li><a href="https://github.com/Superjomn"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a></li>
           
      </ul>
      
      <p><em>Superjomn's blog</em></p>
      
    </header>

    
<nav>
    <ul>
        
    </ul>
</nav>

    <main>



<main>
    <article>
    <header>
        <h1>Devide and conqur(分治法)</h1>
    </header>
        <!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<ul>
<li><a href="#binary-search--bs">Binary search(BS)</a>
<ul>
<li><a href="#%E6%96%B9%E6%B3%95%E4%B8%80">方法一</a></li>
<li><a href="#%E6%96%B9%E6%B3%95%E4%BA%8C">方法二</a></li>
<li><a href="#c-plus-plus-stl-%E5%87%BD%E6%95%B0">C++ STL 函数</a></li>
<li><a href="#%E7%BB%8F%E5%85%B8%E9%A2%98">经典题</a></li>
</ul>
</li>
</ul>
<!-- raw HTML omitted -->
<p>本文介绍分治法的一些思想和经典题。</p>
<h2 id="binary-search--bs">Binary search(BS)</h2>
<p>BS 的复杂度是 \(O(\log N)\)</p>
<p>具体实现方法有两种</p>
<h3 id="方法一">方法一</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C++" data-lang="C++"><span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, b <span style="color:#f92672">=</span> n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;

<span style="color:#66d9ef">while</span> (a <span style="color:#f92672">&lt;</span><span style="color:#f92672">=</span> b) {
  <span style="color:#66d9ef">int</span> k <span style="color:#f92672">=</span> a <span style="color:#f92672">+</span> (b <span style="color:#f92672">-</span> a) <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>;
  <span style="color:#66d9ef">if</span> (arr[k] <span style="color:#f92672">=</span><span style="color:#f92672">=</span> x) {...}  <span style="color:#75715e">// found
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">if</span> (arr[k] <span style="color:#f92672">&gt;</span> x) b <span style="color:#f92672">=</span> k<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
  <span style="color:#66d9ef">else</span> a <span style="color:#f92672">=</span> k<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;
}
</code></pre></div><h3 id="方法二">方法二</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C++" data-lang="C++"><span style="color:#66d9ef">int</span> k <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> b <span style="color:#f92672">=</span> n<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span>; b <span style="color:#f92672">&gt;</span><span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; b <span style="color:#f92672">/</span><span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>) {
  <span style="color:#66d9ef">while</span> (k<span style="color:#f92672">+</span>b <span style="color:#f92672">&lt;</span> n <span style="color:#f92672">&amp;</span><span style="color:#f92672">&amp;</span> arr[k<span style="color:#f92672">+</span>b] <span style="color:#f92672">&lt;</span><span style="color:#f92672">=</span> x) k <span style="color:#f92672">+</span><span style="color:#f92672">=</span> b;
}
<span style="color:#66d9ef">if</span> (arr[k] <span style="color:#f92672">=</span><span style="color:#f92672">=</span> x) { ... } <span style="color:#75715e">// found
</span></code></pre></div><h3 id="c-plus-plus-stl-函数">C++ STL 函数</h3>
<ul>
<li><code>lower_bound</code> 获取不小于目标的第一个元素地址</li>
<li><code>upper_bound</code> 获取不小于目标的最后一个元素地址</li>
<li><code>equal_range</code> 获取上述两个地址</li>
</ul>
<p><strong><strong>具体示例</strong></strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C++" data-lang="C++">std<span style="color:#f92672">:</span><span style="color:#f92672">:</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> arr{{<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">7</span>}};
std<span style="color:#f92672">:</span><span style="color:#f92672">:</span>sort(arr.begin(), arr.end()); <span style="color:#75715e">// NOTE all methods work on sorted array
</span><span style="color:#75715e"></span>std<span style="color:#f92672">:</span><span style="color:#f92672">:</span>cout <span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">method pos</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span> std<span style="color:#f92672">:</span><span style="color:#f92672">:</span>endl;

<span style="color:#66d9ef">auto</span> lower <span style="color:#f92672">=</span> std<span style="color:#f92672">:</span><span style="color:#f92672">:</span>lower_bound(arr.begin(), arr.end(), <span style="color:#ae81ff">4</span>);
std<span style="color:#f92672">:</span><span style="color:#f92672">:</span>cout <span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">lower </span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span> lower <span style="color:#f92672">-</span> arr.begin() <span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span> std<span style="color:#f92672">:</span><span style="color:#f92672">:</span>endl;

<span style="color:#66d9ef">auto</span> lower1 <span style="color:#f92672">=</span> std<span style="color:#f92672">:</span><span style="color:#f92672">:</span>lower_bound(arr.begin(), arr.end(), <span style="color:#ae81ff">5</span>);
std<span style="color:#f92672">:</span><span style="color:#f92672">:</span>cout <span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">lower5 </span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span> lower <span style="color:#f92672">-</span> arr.begin() <span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span> std<span style="color:#f92672">:</span><span style="color:#f92672">:</span>endl;

<span style="color:#66d9ef">auto</span> upper <span style="color:#f92672">=</span> std<span style="color:#f92672">:</span><span style="color:#f92672">:</span>upper_bound(arr.begin(), arr.end(), <span style="color:#ae81ff">4</span>);
std<span style="color:#f92672">:</span><span style="color:#f92672">:</span>cout <span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">upper </span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span> upper <span style="color:#f92672">-</span> arr.begin() <span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span> std<span style="color:#f92672">:</span><span style="color:#f92672">:</span>endl;

<span style="color:#66d9ef">auto</span> range <span style="color:#f92672">=</span> std<span style="color:#f92672">:</span><span style="color:#f92672">:</span>equal_range(arr.begin(), arr.end(), <span style="color:#ae81ff">4</span>);
std<span style="color:#f92672">:</span><span style="color:#f92672">:</span>cout <span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">range </span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span> (range.first <span style="color:#f92672">-</span> arr.begin()) <span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span> <span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74"> </span><span style="color:#e6db74">&#34;</span>
          <span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span> (range.second <span style="color:#f92672">-</span> arr.begin()) <span style="color:#f92672">&lt;</span><span style="color:#f92672">&lt;</span> std<span style="color:#f92672">:</span><span style="color:#f92672">:</span>endl;
</code></pre></div><table>
<thead>
<tr>
<th>method</th>
<th>pos</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>lower</td>
<td>3</td>
<td></td>
</tr>
<tr>
<td>lower5</td>
<td>3</td>
<td></td>
</tr>
<tr>
<td>upper</td>
<td>5</td>
<td></td>
</tr>
<tr>
<td>range</td>
<td>3</td>
<td>5</td>
</tr>
</tbody>
</table>
<h3 id="经典题">经典题</h3>
<h4 id="finding-the-smallest">Finding the smallest</h4>
<p>一个数组，先变小，后变大</p>
<p><strong><strong>Binary search 最重要的应用就是寻找一个函数的数值变化的位置</strong></strong>, 这里假设目标函数是 <code>x&gt;=k</code> ，那么原有数组中的每个 \(x\) 作为输入，会得到目标函数的值</p>
<table>
<thead>
<tr>
<th>x</th>
<th>0</th>
<th>1</th>
<th>&hellip;</th>
<th>k -1</th>
<th>k</th>
<th>k+1</th>
</tr>
</thead>
<tbody>
<tr>
<td>ok(x)</td>
<td>false</td>
<td>false</td>
<td>&hellip;</td>
<td>false</td>
<td>true</td>
<td>true</td>
</tr>
</tbody>
</table>
<p>因此，原有问题转变为寻找最后一个 \(ok()\) 值为 false 的 \(x\) ，转变为经典 BS 问题。</p>
<p>这里代码最简洁的是使用第二种 BS 的写法</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C++" data-lang="C++"><span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
<span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> b <span style="color:#f92672">=</span> k <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>; b <span style="color:#f92672">&gt;</span><span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; b <span style="color:#f92672">/</span><span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>) {
  <span style="color:#66d9ef">while</span> (<span style="color:#f92672">!</span>ok(x_b))
    x <span style="color:#f92672">+</span><span style="color:#f92672">=</span> b;
}
<span style="color:#66d9ef">int</span> k <span style="color:#f92672">=</span> x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
</code></pre></div>
    </article>
    <aside>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#binary-search--bs">Binary search(BS)</a>
      <ul>
        <li><a href="#方法一">方法一</a></li>
        <li><a href="#方法二">方法二</a></li>
        <li><a href="#c-plus-plus-stl-函数">C++ STL 函数</a></li>
        <li><a href="#经典题">经典题</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </aside>
</main>


</main>
    <footer>
        <h6> |
            Rendered by <a href="https://gohugo.io" title="Hugo">Hugo</a> |
            <a href="http://superjomn.github.io/index.xml">Subscribe</a></h6>
    </footer>
</div>
<script src="/js/scripts.js"></script>

</body>

</html>
